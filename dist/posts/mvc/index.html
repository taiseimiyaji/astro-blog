<!DOCTYPE html><html lang="ja"> <head><title>MVCモデルについて</title><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta name="description" content="# MVCモデルについて
## MVCとは
ソフトウェアを**Model**,**View**,**Controller**の3要素の組み合わせでシステムを構築していく考え方。   

## Model
- ビジネスロジックを担当するシステ"><script async src="https://www.googletagmanager.com/gtag/js?id=G-ZBD90YGZ4N"></script><style>@charset "UTF-8";html{background-color:#23272f;font-size:16px;color:#f6f7f9}.header{color:#f6f7f9;justify-content:space-around;border-bottom:.5px solid}.header-link{display:flex;justify-content:space-around;font-size:1.5rem;padding:.5rem;border-color:#f6f7f9;margin:0 auto;max-width:70rem;width:94vw}.header-link div{color:#f6f7f9}.header .title{border-bottom:.5px solid;text-align:center;font-weight:700;padding:2rem;font-size:2.5rem}.card{box-sizing:border-box;background-color:#23272f;border:1px solid #F6F7F9;border-radius:1rem;display:flex;flex-direction:column;padding:2rem;gap:1rem;color:#f6f7f9}.card .title{font-size:large;overflow:inherit}.card:hover{background-color:#2d3748;color:#fff;box-shadow:0 6px 8px #00000026}.card-list{gap:1rem;flex-direction:column;display:flex}code{font-size:1rem}:root{--accent: 124, 58, 237;--accent-gradient: linear-gradient(45deg, rgb(var(--accent)), #da62c4 30%, white 60%)}html{font-family:system-ui,sans-serif}code{font-family:Menlo,Monaco,Lucida Console,Liberation Mono,DejaVu Sans Mono,Bitstream Vera Sans Mono,Courier New,monospace}.content{padding:2rem 0;margin:0 auto;max-width:70rem;width:94vw}.content .post{overflow-wrap:normal;overflow:hidden}.content p,.content ul li,.content ol li{line-height:1.7}a{color:#f6f7f9;text-decoration:none}img{width:100%}*,*:before,*:after{box-sizing:border-box}.card-container{display:grid;grid-template-columns:repeat(auto-fit,minmax(min(250px,100%),1fr));gap:1rem;padding:1rem}.sns-button{display:flex;align-items:center;justify-content:center;background-color:#23272f;border:1px solid white;color:#fff;padding:1rem;border-radius:.5rem;box-shadow:0 4px 6px #0000001a;transition:background-color .3s ease,box-shadow .3s ease;width:100%;max-width:100%;text-align:center;font-size:1.25rem;cursor:pointer;margin:0}.sns-button:hover{background-color:#2d3748;color:#fff;box-shadow:0 6px 8px #00000026}.sns-button svg{stroke:currentColor;fill:currentColor;stroke-width:0;height:1.5em;width:1.5em;margin-right:.5rem}pre.astro-code.github-dark{background-color:#2d333b!important;overflow-x:auto;padding:1rem;border-radius:.2rem}.footer{border-top:1px solid #F6F7F9;padding:1rem;align-items:center;display:flex;max-height:2rem}.footer .copyright{order:1}.footer .icons{margin-left:auto;order:2;width:2rem;height:2rem}
html{background-color:#23272f;font-size:16px;color:#f6f7f9}.header{color:#f6f7f9;justify-content:space-around;border-bottom:.5px solid}.header-link{display:flex;justify-content:space-around;font-size:1.5rem;padding:.5rem;border-color:#f6f7f9;margin:0 auto;max-width:70rem;width:94vw}.header-link div{color:#f6f7f9}.header .title{border-bottom:.5px solid;text-align:center;font-weight:700;padding:2rem;font-size:2.5rem}.footer{border-top:1px solid #F6F7F9;padding:1rem;align-items:center;display:flex;max-height:2rem}.footer .copyright{order:1}.footer .icons{margin-left:auto;order:2;width:2rem;height:2rem}.card{box-sizing:border-box;background-color:#23272f;border:1px solid #F6F7F9;border-radius:1rem;display:flex;flex-direction:column;padding:2rem;gap:1rem;color:#f6f7f9}.card .title{font-size:large;overflow:inherit}.card:hover{background-color:#2d3748;color:#fff;box-shadow:0 6px 8px #00000026}.card-list{gap:1rem;flex-direction:column;display:flex}.content a{text-decoration:underline}.content table{width:100%;border-collapse:collapse;margin:2rem 0}.content table th,.content table td{border:1px solid #F6F7F9;padding:.5rem;text-align:left}.content table th{background-color:#f6f7f933;color:#f6f7f9;font-weight:700}.content table tr:nth-child(odd){background-color:#f6f7f91a}.content table tr:nth-child(2n){background-color:#f6f7f90d}.content blockquote{padding:1rem;margin:1rem 0;border-left:4px solid #F6F7F9;background-color:#f6f7f91a;color:#f6f7f9;font-style:italic;overflow-wrap:break-word}.content blockquote p{margin:0}.content h2{color:#f6f7f9;margin:2rem 0 1rem;font-size:1.5rem;font-weight:700;border-bottom:2px solid #F6F7F9;padding-bottom:.5rem}
</style><script type="module">window.dataLayer=window.dataLayer||[];function a(){dataLayer.push(arguments)}a("js",new Date);a("config","G-ZBD90YGZ4N");
</script></head> <!-- Google tag (gtag.js) -->  <body> <main> <div class="header"><div class="title"><a href="/">Lyricrime.com</a></div><div class="header-link"><a href="/"><div> Blog</div></a><a href="/profile"><div>Profile</div></a></div></div> <div class="content"> <div class="date">2022/03/18</div> <h1>MVCモデルについて</h1> <div class="post"> <h1 id="mvcモデルについて">MVCモデルについて</h1>
<h2 id="mvcとは">MVCとは</h2>
<p>ソフトウェアを<strong>Model</strong>,<strong>View</strong>,<strong>Controller</strong>の3要素の組み合わせでシステムを構築していく考え方。</p>
<h2 id="model">Model</h2>
<ul>
<li>ビジネスロジックを担当するシステムの本体部分</li>
<li>データの変更をViewに通知する(Observerパターンを使うこともある)</li>
</ul>
<h2 id="view">View</h2>
<ul>
<li>表示、入出力といった部分を担当する。</li>
<li>Modelのデータを取り出してユーザが見る形で表示(Viewがデータを受け取っているわけではない)</li>
</ul>
<h2 id="controller">Controller</h2>
<ul>
<li>ViewとModelを制御する(HTTPリクエストを適切なModelに渡す、ViewからのレスポンスHTTPをユーザに返す)</li>
<li>自分自身ではロジックの実行はせず、Viewから入力を受け取り、それに応じてModelのロジックを呼び出し、結果をViewに渡す。</li>
<li>UIからの入力を担当する</li>
<li>イベントを受け取る。つまり画面上構成するイベントの数だけ処理がある</li>
</ul>
<h2 id="メリット">メリット</h2>
<ul>
<li>機能ごとの分離が明確になるため、独立性が確保でき、分業しやすくなる。</li>
<li>コンポーネント間の依存度を下げることができる。つまり、再利用しやすくなる。</li>
<li>また、責任が分かれているため、複数人でメンテナンスすることを考えた時、同時に同じ領域を操作する危険が減り保守性も向上する。</li>
</ul>
<h2 id="middlewareパターン">Middlewareパターン</h2>
<p><a href="https://qiita.com/suin/items/5c53f72e9c7e2c05b18f">❄️PHPでMiddlewareパターンを実装する方法</a></p>
<h3 id="特性">特性</h3>
<ul>
<li>クライアントコードとハンドラの間に割って入り、入力を加工する</li>
<li>ハンドラとクライアントコードの間に割って入り、出力を加工する</li>
<li>クライアントコードとハンドラの間に割って入り、入力がハンドラに届く前に、早期に出力を返す</li>
</ul>
<h3 id="middlewareパターンとは">Middlewareパターンとは</h3>
<p>Middlewareパターンの目的は、「ミドルウェア」と呼ばれるガワの処理で核となるハンドラを包むことで、プログラム本来の振る舞いを拡張可能にすること。<br>
MVCウェブフレームワークでは、コントローラの入出力となるHTTPリクエストやレスポンスをアプリケーション全体で統一的に加工する用途などに採用されている。</p>
<h3 id="どんな時に使えるか">どんな時に使えるか</h3>
<ul>
<li>HTTPS接続のみを許可し、HTTPで接続されると強制的にリダイレクトする。</li>
<li>特定のIPアドレスだけ許可する</li>
<li>ログインしているユーザーにのみページを表示する</li>
<li>特定の言語のみ、特定の国のみページを表示する</li>
<li>リクエストのログを記録する</li>
</ul>
<h3 id="laravelにおけるmiddleware">LaravelにおけるMiddleware</h3>
<p><a href="https://tech-tech.blog/php/laravel/middleware/">Laravel Middleware 調べてみた</a><br>
以下の三種類に分類できる。</p>
<ul>
<li>グローバルミドルウェア</li>
<li>ルートミドルウェア</li>
<li>コンストラクタ内のミドルウェア</li>
</ul>
<p>処理の順番は以下の通り。</p>
<ol>
<li>グローバルミドルウェア</li>
<li>ルートミドルウェア</li>
<li>コンストラクタ内ミドルウェア</li>
<li>コントローラーの処理</li>
<li>コンストラクタ内ミドルウェア</li>
<li>ルートミドルウェア</li>
<li>グローバルミドルウェア</li>
</ol>
<p>コントローラーの処理をラップするイメージ。</p>
<h3 id="公式">公式</h3>
<p><a href="https://laravel.com/docs/9.x/middleware#main-content">Laravel - ミドルウェア</a></p>
<h2 id="追加後で読む">追加(後で読む)</h2>
<h3 id="クリーンアーキテクチャ">クリーンアーキテクチャ</h3>
<p><a href="https://gist.github.com/mpppk/609d592f25cab9312654b39f1b357c60">クリーンアーキテクチャ完全に理解した</a></p> </div> </div> <div class="footer"><div class="copyright">©︎ 2024 taisei miyaji</div><div class="icons"><span class="github"><a href="https://github.com/taiseimiyaji" target="_blank"><img src="/github-mark/github-mark-white.png" width="100%" height="100%" alt="github"/></a></span></div></div> </main> </body></html>